# -*- coding: utf-8 -*-
"""Pizza.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1FjjXzT3pZ5tb5W2ocChJAQzwm5kYOryp
"""

import csv
import datetime

#Pizza sınıfı oluşturuldu
class Pizza:
    def __init__(self, description, cost):
        self.__description = description
        self.__cost = cost
    
    def get_description(self):
        return self.__description
    
    def get_cost(self):
        return self.__cost

#Pizzaların alt sınıfları oluşturuldu
class Klasik(Pizza):
    def __init__(self):
        super().__init__("Klasik Pizza:  domates, peynir ve genellikle çeşitli diğer malzemelerle  yenen bir yemektir.", 20)

class Margarita(Pizza):
    def __init__(self):
        super().__init__("Margarita Pizza: domates, mozarella, fesleğen, zeytinyağı ve tuzla yapılan Napoli pizzasıdır.", 25)

class TurkPizza(Pizza):
    def __init__(self):
        super().__init__("Türk Pizza:  sucuk, pastırma, biber, ve mantar ile yapılan pizzadır.", 30)

class SadePizza(Pizza):
    def __init__(self):
        super().__init__("Sade Pizza: pizza hamuru, mozzarella peyniri ve domates ile yapılan pizzadır.", 15)

#decorator sınıfı oluşturuldu
class Decorator():
    def __init__(self, description, cost):
        self.__description = description
        self.__cost = cost

    def get_description(self):
        return self.__description
    
    def get_cost(self):
        return self.__cost

#decorator sınıflarının alt sınıfları oluşturuldu
class Zeytin(Decorator):
    def __init__(self):
        super().__init__("Zeytin",3)


class Mantar(Decorator):
    def __init__(self):
        super().__init__("Mantarlar",2)
      

class KeciPeyniri(Decorator):
    def __init__(self):
        super().__init__("Keçi Peyniri",5)
        

class Et(Decorator):
    def __init__(self):
        super().__init__("Et",4)
      

class Sogan(Decorator):
    def __init__(self):
        super().__init__("Soğan",1)
       

class Misir(Decorator):
    def __init__(self):
        super().__init__("Mısır",2)

#menü yazdırıldı
def print_menu():
    with open("Menu.txt", "r") as file:
        print(file.read())

#pizza seçim işlemi yapılması için
def get_pizza_choice():
    pizza = None
    while pizza is None:
        choice = input("Lütfen bir pizza tabanı seçiniz: ")
        if choice == "1":
            pizza = Klasik()
        elif choice == "2":
            pizza = Margarita()
        elif choice == "3":
            pizza = TurkPizza()
        elif choice == "4":
            pizza = SadePizza()
        else:
            print("Geçersiz seçim, lütfen tekrar deneyin.")
    return pizza

#ekstra seçim
def get_sauce_choice():
    sauce = None
    while sauce is None:
        choice = input("Lütfen bir sos seçiniz: ")
        if choice == "11":
            sauce = Zeytin()
        elif choice == "12":
            sauce = Mantar()
        elif choice == "13":
            sauce = KeciPeyniri()
        elif choice == "14":
            sauce = Et()
        elif choice == "15":
            sauce = Sogan()
        elif choice == "16":
            sauce = Misir()
        else:
            print("Geçersiz seçim, lütfen tekrar deneyin.")
    return sauce

#order csv dosyası oluşturuldu
with open('Orders_Database.csv', 'w') as creating_new_csv_file: 
   pass

#datetime kütüphanesi eklendi, main fonksiyonu içersinde yukarıda yazılan fonksiyonlar çağırıldı, isim kimlik numarasıvs alındı ve bunlar oluşturulmuş olan csv dosyasına kaydedildi
from datetime import datetime

def main():
  print_menu()
  pizza = get_pizza_choice()
  sauce = get_sauce_choice()
  cost = pizza.get_cost() + sauce.get_cost()
  Name = input("Lütfen isminizi giriniz: ")
  id = input("Lütfen Lütfen TC Kimlik numaranızı giriniz: ")
  creditcardnumber = input("Lütfen kredi kartı numaranızı giriniz: ")
  creditcardpassword = input("Lütfen şifrenizi giriniz: ")
  now = datetime.now()
  with open('Orders_Database.csv', mode='a') as new: 
    new_writer = csv.writer(new, delimiter=',', quotechar='"', quoting=csv.QUOTE_MINIMAL)
    new_writer.writerow([Name, id, creditcardnumber, creditcardpassword, pizza.get_description(), sauce.get_description(), cost,now])

#main fonksiyonu çağrıldı
main()